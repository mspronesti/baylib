\hypertarget{condition_8hpp_source}{}\doxysection{condition.\+hpp}
\label{condition_8hpp_source}\index{/home/mspronesti/Desktop/baylib/baylib/probability/condition.hpp@{/home/mspronesti/Desktop/baylib/baylib/probability/condition.hpp}}
\mbox{\hyperlink{condition_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{//}}
\DoxyCodeLine{2 \textcolor{comment}{// Created by elle on 05/08/21.}}
\DoxyCodeLine{3 \textcolor{comment}{//}}
\DoxyCodeLine{4 }
\DoxyCodeLine{5 \textcolor{preprocessor}{\#ifndef BAYLIB\_CONDITION\_HPP}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#define BAYLIB\_CONDITION\_HPP}}
\DoxyCodeLine{7 }
\DoxyCodeLine{8 \textcolor{preprocessor}{\#include <baylib/baylib\_assert.h>}}
\DoxyCodeLine{9 }
\DoxyCodeLine{12 }
\DoxyCodeLine{13 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespacebaylib}{baylib}} \{}
\DoxyCodeLine{14     \textcolor{keyword}{using} state\_t = std::uint64\_t;}
\DoxyCodeLine{15 }
\DoxyCodeLine{22     \textcolor{keyword}{class }\mbox{\hyperlink{classbaylib_1_1condition}{condition}} \{}
\DoxyCodeLine{23     \textcolor{keyword}{public}:}
\DoxyCodeLine{24         \mbox{\hyperlink{classbaylib_1_1condition}{condition}}() = \textcolor{keywordflow}{default};}
\DoxyCodeLine{25 }
\DoxyCodeLine{26         \textcolor{comment}{// copy constructor}}
\DoxyCodeLine{27         \mbox{\hyperlink{classbaylib_1_1condition}{condition}}(\textcolor{keyword}{const} \mbox{\hyperlink{classbaylib_1_1condition}{condition}} \&c) \{}
\DoxyCodeLine{28             \textcolor{keywordflow}{for}(\textcolor{keyword}{auto} \& [k,v] : c.cmap)}
\DoxyCodeLine{29                 cmap[k] = v;}
\DoxyCodeLine{30         \}}
\DoxyCodeLine{31 }
\DoxyCodeLine{37         \mbox{\hyperlink{classbaylib_1_1condition}{condition}} \&\mbox{\hyperlink{classbaylib_1_1condition_af72d2b8c96a5937e9ff12b29f3854b4d}{operator=}}(\textcolor{keyword}{const} \mbox{\hyperlink{classbaylib_1_1condition}{condition}} \&other) \{}
\DoxyCodeLine{38             \textcolor{keywordflow}{if} (\textcolor{keyword}{this} == \&other)}
\DoxyCodeLine{39                 \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{40 }
\DoxyCodeLine{41             \mbox{\hyperlink{classbaylib_1_1condition}{condition}}(other).\mbox{\hyperlink{classbaylib_1_1condition_aa4b4abc23afa94d4f913f47b3d11abd7}{swap}}(*\textcolor{keyword}{this});}
\DoxyCodeLine{42             \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{43         \}}
\DoxyCodeLine{44 }
\DoxyCodeLine{50         \textcolor{keywordtype}{void} \mbox{\hyperlink{classbaylib_1_1condition_adf589c151462247c4ffbd19f40f8dece}{add}}(\textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} node\_id, state\_t val) \{}
\DoxyCodeLine{51             cmap[node\_id] = val;}
\DoxyCodeLine{52         \}}
\DoxyCodeLine{53 }
\DoxyCodeLine{59         state\_t \&\mbox{\hyperlink{classbaylib_1_1condition_a4458aae6f54723d6489f25e5f8a05330}{operator[]}}(\textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} node\_id) \{}
\DoxyCodeLine{60             BAYLIB\_ASSERT(\mbox{\hyperlink{classbaylib_1_1condition_ac9ef6114e5904c528a30ab6dbd754d62}{contains}}(node\_id),}
\DoxyCodeLine{61                     \textcolor{stringliteral}{"{}condition doesn't contain node"{}}}
\DoxyCodeLine{62                     << node\_id,}
\DoxyCodeLine{63                     std::runtime\_error)}
\DoxyCodeLine{64 }
\DoxyCodeLine{65             \textcolor{keywordflow}{return} cmap[node\_id];}
\DoxyCodeLine{66         \}}
\DoxyCodeLine{67 }
\DoxyCodeLine{73         \textcolor{keyword}{const} state\_t \&\mbox{\hyperlink{classbaylib_1_1condition_a2bdfaad079b454080af29fbb1629a7a8}{operator[]}}(\textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} node\_id)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{74             BAYLIB\_ASSERT(\mbox{\hyperlink{classbaylib_1_1condition_ac9ef6114e5904c528a30ab6dbd754d62}{contains}}(node\_id),}
\DoxyCodeLine{75                           \textcolor{stringliteral}{"{}condition doesn't contain node"{}}}
\DoxyCodeLine{76                           << node\_id,}
\DoxyCodeLine{77                           std::runtime\_error)}
\DoxyCodeLine{78 }
\DoxyCodeLine{79             \textcolor{keywordflow}{return} cmap.at(node\_id);}
\DoxyCodeLine{80         \}}
\DoxyCodeLine{81 }
\DoxyCodeLine{86         \textcolor{keywordtype}{void} \mbox{\hyperlink{classbaylib_1_1condition_aa4b4abc23afa94d4f913f47b3d11abd7}{swap}}(\mbox{\hyperlink{classbaylib_1_1condition}{condition}} \&other) \{}
\DoxyCodeLine{87             cmap.swap(other.cmap);}
\DoxyCodeLine{88         \}}
\DoxyCodeLine{89 }
\DoxyCodeLine{93         \textcolor{keywordtype}{void} \mbox{\hyperlink{classbaylib_1_1condition_a623b562fc6b5665e1a8d76c98f398b07}{clear}}() \{}
\DoxyCodeLine{94             cmap.clear();}
\DoxyCodeLine{95         \}}
\DoxyCodeLine{96 }
\DoxyCodeLine{102         \textcolor{keywordtype}{bool} \mbox{\hyperlink{classbaylib_1_1condition_ac9ef6114e5904c528a30ab6dbd754d62}{contains}}(\textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} node\_id)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{103             \textcolor{keywordflow}{return} cmap.find(node\_id) != cmap.end();}
\DoxyCodeLine{104         \}}
\DoxyCodeLine{105 }
\DoxyCodeLine{110         \textcolor{keyword}{auto} \mbox{\hyperlink{classbaylib_1_1condition_a8b58ccb3bfc3898fe56b25b6208e8cdc}{begin}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{111             \textcolor{keywordflow}{return} cmap.begin();}
\DoxyCodeLine{112         \}}
\DoxyCodeLine{113 }
\DoxyCodeLine{118         \textcolor{keyword}{auto} \mbox{\hyperlink{classbaylib_1_1condition_ae2b6abcd27110625ed81cb986e4a39ff}{end}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{119             \textcolor{keywordflow}{return} cmap.end();}
\DoxyCodeLine{120         \}}
\DoxyCodeLine{121 }
\DoxyCodeLine{126         \textcolor{keyword}{auto} \mbox{\hyperlink{classbaylib_1_1condition_a142ebe051f1e0e442c39512c48e9c30d}{rbegin}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{127             \textcolor{keywordflow}{return} cmap.rbegin();}
\DoxyCodeLine{128         \}}
\DoxyCodeLine{129 }
\DoxyCodeLine{134         \textcolor{keyword}{auto} \mbox{\hyperlink{classbaylib_1_1condition_ac4d89282e2332d431a18f50b58d3a2bb}{rend}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{135             \textcolor{keywordflow}{return} cmap.rend();}
\DoxyCodeLine{136         \}}
\DoxyCodeLine{137 }
\DoxyCodeLine{142         \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{classbaylib_1_1condition_aad72af1503800d85248793623526a210}{size}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{143             \textcolor{keywordflow}{return} cmap.size();}
\DoxyCodeLine{144         \}}
\DoxyCodeLine{145 }
\DoxyCodeLine{146         \textcolor{keywordtype}{bool} operator < ( \textcolor{keyword}{const} \mbox{\hyperlink{classbaylib_1_1condition}{condition}} \&other)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{147             \textcolor{keywordflow}{if} (cmap.size() < other.cmap.size())}
\DoxyCodeLine{148                 \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{149             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (cmap.size() > other.cmap.size())}
\DoxyCodeLine{150                 \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{151             \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{152                 \textcolor{comment}{// compare keys and values}}
\DoxyCodeLine{153                 \textcolor{keyword}{auto} it = other.cmap.begin();}
\DoxyCodeLine{154                 \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \&[k, v] : cmap) \{}
\DoxyCodeLine{155                     \textcolor{keywordflow}{if} (v < it-\/>second)}
\DoxyCodeLine{156                         \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{157                     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (v > it-\/>second)}
\DoxyCodeLine{158                         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{159                     \textcolor{keywordflow}{else}  \textcolor{keywordflow}{if} (k < it-\/>first)}
\DoxyCodeLine{160                         \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{161                     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (k > it-\/>first)}
\DoxyCodeLine{162                         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{163                     it++;}
\DoxyCodeLine{164                 \}}
\DoxyCodeLine{165                 \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{166             \}}
\DoxyCodeLine{167         \}}
\DoxyCodeLine{168 }
\DoxyCodeLine{175         \textcolor{keyword}{friend} std::ostream\& \mbox{\hyperlink{classbaylib_1_1condition_adc5e5683ce3fb46e30898b4e750a8762}{operator << }}(std::ostream \&os, \textcolor{keyword}{const} \mbox{\hyperlink{classbaylib_1_1condition}{condition}} \&c)}
\DoxyCodeLine{176         \{}
\DoxyCodeLine{177           \textcolor{keywordflow}{for}(\textcolor{keyword}{auto} \& [k,v] : c.cmap)}
\DoxyCodeLine{178               os << k << \textcolor{charliteral}{':'} << v << \textcolor{charliteral}{' '};}
\DoxyCodeLine{179           \textcolor{keywordflow}{return} os;}
\DoxyCodeLine{180         \}}
\DoxyCodeLine{181 }
\DoxyCodeLine{182 }
\DoxyCodeLine{183     \textcolor{keyword}{private}:}
\DoxyCodeLine{184         \textcolor{comment}{// ! key   : node id}}
\DoxyCodeLine{185         \textcolor{comment}{// ! value : state value}}
\DoxyCodeLine{186         std::map<unsigned long, state\_t> cmap;}
\DoxyCodeLine{187     \};}
\DoxyCodeLine{188 \}}
\DoxyCodeLine{189 \textcolor{preprocessor}{\#endif }\textcolor{comment}{//BAYLIB\_CONDITION\_HPP}}

\end{DoxyCode}
