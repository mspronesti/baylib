\hypertarget{classbn_1_1inference_1_1logic__sampling}{}\doxysection{bn\+::inference\+::logic\+\_\+sampling\texorpdfstring{$<$}{<} Probability \texorpdfstring{$>$}{>} Class Template Reference}
\label{classbn_1_1inference_1_1logic__sampling}\index{bn::inference::logic\_sampling$<$ Probability $>$@{bn::inference::logic\_sampling$<$ Probability $>$}}


{\ttfamily \#include $<$logic\+\_\+sampling.\+hpp$>$}

Inheritance diagram for bn\+::inference\+::logic\+\_\+sampling\texorpdfstring{$<$}{<} Probability \texorpdfstring{$>$}{>}\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{classbn_1_1inference_1_1logic__sampling}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classbn_1_1inference_1_1logic__sampling_ac7b84f9167ce81cc090be128e54f3817}\label{classbn_1_1inference_1_1logic__sampling_ac7b84f9167ce81cc090be128e54f3817}} 
{\bfseries logic\+\_\+sampling} (ulong samples, size\+\_\+t memory, uint seed=0, const compute\+::device \&device=compute\+::system\+::default\+\_\+device())
\item 
\mbox{\hyperlink{classbn_1_1marginal__distribution}{marginal\+\_\+distribution}}$<$ Probability $>$ \mbox{\hyperlink{classbn_1_1inference_1_1logic__sampling_a54b21ea8cc491b377366b08003985867}{make\+\_\+inference}} (const \mbox{\hyperlink{classbn_1_1bayesian__network}{bn\+::bayesian\+\_\+network}}$<$ Probability $>$ \&bn)
\end{DoxyCompactItemize}
\doxysubsection*{Private Types}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classbn_1_1inference_1_1logic__sampling_a5bfc331a5bbd075c8f8168662e54f2dc}\label{classbn_1_1inference_1_1logic__sampling_a5bfc331a5bbd075c8f8168662e54f2dc}} 
using {\bfseries prob\+\_\+v} = boost\+::compute\+::vector$<$ Probability $>$
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
std\+::vector$<$ ulong $>$ \mbox{\hyperlink{classbn_1_1inference_1_1logic__sampling_a848ba491bf69cb1ce23493bcd550efd2}{compute\+\_\+result\+\_\+general}} (\mbox{\hyperlink{structbn_1_1bcvec}{bcvec}} \&res, compute\+::vector$<$ int $>$ \&valid)
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}
\subsubsection*{template$<$typename Probability$>$\newline
class bn\+::inference\+::logic\+\_\+sampling$<$ Probability $>$}
This class represents the Logic Sampling approximate inference algorithm for discrete Bayesian Networks. The implementation uses boost\+::compute to exploit GPGPU optimization. All samples are simulated in parallel, for this reason the maximum memory usage tolerable must be specified to avoid filling up the memory of the device in case of large number of samples. The algorithm main steps are \+:
\begin{DoxyEnumerate}
\item sort nodes in topological order
\item simulate each source node
\item simulate each child node given the parents previous simulation
\item throw out each simulation that doesn\textquotesingle{}t comply with observed evidences
\item estimate the marginal distribution from the valid simulations 
\begin{DoxyTemplParams}{Template Parameters}
{\em Probability} & \+: the type expressing the probability \\
\hline
\end{DoxyTemplParams}

\end{DoxyEnumerate}

\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classbn_1_1inference_1_1logic__sampling_a848ba491bf69cb1ce23493bcd550efd2}\label{classbn_1_1inference_1_1logic__sampling_a848ba491bf69cb1ce23493bcd550efd2}} 
\index{bn::inference::logic\_sampling$<$ Probability $>$@{bn::inference::logic\_sampling$<$ Probability $>$}!compute\_result\_general@{compute\_result\_general}}
\index{compute\_result\_general@{compute\_result\_general}!bn::inference::logic\_sampling$<$ Probability $>$@{bn::inference::logic\_sampling$<$ Probability $>$}}
\doxysubsubsection{\texorpdfstring{compute\_result\_general()}{compute\_result\_general()}}
{\footnotesize\ttfamily template$<$typename Probability $>$ \\
std\+::vector$<$ ulong $>$ \mbox{\hyperlink{classbn_1_1inference_1_1logic__sampling}{bn\+::inference\+::logic\+\_\+sampling}}$<$ Probability $>$\+::compute\+\_\+result\+\_\+general (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structbn_1_1bcvec}{bcvec}} \&}]{res,  }\item[{compute\+::vector$<$ int $>$ \&}]{valid }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}

Accumulate simulation results for general case 
\begin{DoxyParams}{Parameters}
{\em res} & result from simulate node \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
vector for witch the i-\/th element is the number of occurrences of i 
\end{DoxyReturn}
\mbox{\Hypertarget{classbn_1_1inference_1_1logic__sampling_a54b21ea8cc491b377366b08003985867}\label{classbn_1_1inference_1_1logic__sampling_a54b21ea8cc491b377366b08003985867}} 
\index{bn::inference::logic\_sampling$<$ Probability $>$@{bn::inference::logic\_sampling$<$ Probability $>$}!make\_inference@{make\_inference}}
\index{make\_inference@{make\_inference}!bn::inference::logic\_sampling$<$ Probability $>$@{bn::inference::logic\_sampling$<$ Probability $>$}}
\doxysubsubsection{\texorpdfstring{make\_inference()}{make\_inference()}}
{\footnotesize\ttfamily template$<$typename Probability $>$ \\
\mbox{\hyperlink{classbn_1_1marginal__distribution}{marginal\+\_\+distribution}}$<$ Probability $>$ \mbox{\hyperlink{classbn_1_1inference_1_1logic__sampling}{bn\+::inference\+::logic\+\_\+sampling}}$<$ Probability $>$\+::make\+\_\+inference (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classbn_1_1bayesian__network}{bn\+::bayesian\+\_\+network}}$<$ Probability $>$ \&}]{bn }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}

Main method of the inference algorithm. Receives the bayesian network but doesn\textquotesingle{}t store it anywhere. It only uses its facilities to perform inference thus avoiding unwanted copies and allowing reusability of the same algorithm object 
\begin{DoxyParams}{Parameters}
{\em bn} & \+: bayesian network \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\+: the marginal distributions 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classbn_1_1inference_1_1inference__algorithm_a717239e2a561fb79fe9c67a5b3effef7}{bn\+::inference\+::inference\+\_\+algorithm$<$ Probability $>$}}.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/home/mspronesti/\+Desktop/baylib/baylib/inference/\mbox{\hyperlink{logic__sampling_8hpp}{logic\+\_\+sampling.\+hpp}}\end{DoxyCompactItemize}
